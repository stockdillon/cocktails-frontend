<mat-form-field appearance="fill">
    <mat-label>Search Type</mat-label>
    <mat-select [(ngModel)]="query" name="queryType">
        <mat-option *ngFor="let queryConfig of queryTypeConfigs" [value]="queryConfig">
            {{queryConfig.displayText}}
        </mat-option>
    </mat-select>
</mat-form-field>

<mat-form-field class="example-full-width">
    <mat-label>Query</mat-label>
    <textarea matInput placeholder="Ex. Alcohol">{{query.query}}</textarea>
</mat-form-field>

<!-- <button mat-raised-button (click)="submit()">
    Search
</button> -->
<ng-container *ngIf="query.query">
    <button mat-raised-button color="primary" [routerLink]="'/ingredients/lookup/' + query.query" *ngIf="query.type === queryTypes.LookupId">
        Lookup ID
    </button>
    <button mat-raised-button color="primary" [routerLink]="'/ingredients/search/' + query.query" *ngIf="query.type === queryTypes.SearchName">
        Search Name
    </button>
</ng-container>

<pre *ngIf="ingredients$ | async as ingredients">
    {{ingredients | json}}
</pre>

<app-ingredient [ingredient]="ingredient"></app-ingredient>
<router-outlet></router-outlet>
